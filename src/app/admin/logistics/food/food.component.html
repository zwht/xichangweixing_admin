<div class="box">
  <div class="list-box">
    <div class="search clear" style="padding:20px;">
      <div>
        <div class="chaxun">
          <span>用餐人姓名</span>
          <input nz-input [(ngModel)]="title" placeholder="查询用餐人姓名" >
        </div>
        <div class="chaxun">
          <span>时间</span>
          <nz-range-picker [(ngModel)]="dateRange" nzShowTime></nz-range-picker>
        </div>
        <div class="chaxun">
          <button nz-button nzType="chaxun" (click)="getList()">查询</button>
        </div>
      </div>
    </div>
    <div class="table-head">
      <div class="head-h2">
        <span>投诉列表</span>
      </div>
      <!-- <div class="btn-box">
        <button nz-button nzType="tianjia" routerLink="./add">新增强军要闻</button>
      </div> -->
    </div>
    <div class="table-box">
      <nz-table #basicTable 
        [nzData]="list" [nzFrontPagination]="false"
        [(nzPageIndex)]="pageNum"
        [nzTotal]="totalCount"
        [(nzPageSize)]="pageSize"
        (nzPageIndexChange)="getList()">
        <!-- <nz-table #basicTable [nzData]="list" [nzShowPagination]="false"> -->
          <thead>
            <tr>
              <th>序号</th>
              <th>用餐人姓名</th>
              <th>身份证号</th>
              <th>联系电话</th>
              <th>工作单位</th>
              <th>用餐人数</th>
              <th>用餐时间</th>
              <th>状态</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of list let i= index">
              <td>{{i}}</td>
              <td>{{data.name}}</td>
              <td>{{data.idnum}}</td>
              <td>{{data.phone}}</td>
              <td>{{data.workers}}</td>
              <td>{{data.eatsCount}}</td>
              <td>{{data.eatTime}}</td>
              <td>
                <nz-tag [nzColor]="'magenta'" *ngIf="data.status==0">未处理</nz-tag>
                <nz-tag [nzColor]="'green'" *ngIf="data.status==1">已处理</nz-tag>
              </td>
              <td>
                <a nz-button [routerLink]="'./detail/'+data.id">
                  {{data.status==0?'处理':'查看'}}</a>
              </td>
            </tr>
          </tbody>
      </nz-table>
    </div>
  </div>
</div>

