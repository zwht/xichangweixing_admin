<div class="box">
  <div class="list-box">
    <div class="search clear"  style="padding:20px;">
      <div>
        <div class="chaxun">
          <span>姓名</span>
          <input appTrim nz-input placeholder="请输入登录名" [(ngModel)]="name" (keyup.enter)="getList()">
        </div>
        <div class="chaxun">
          <span>电话</span>
          <input appTrim nz-input placeholder="请输入电话" [(ngModel)]="phone" (keyup.enter)="getList()">
        </div>
        <div class="chaxun">
          <button nz-button nzType="chaxun" (click)="getList()">查询</button>
        </div>
      </div>
    </div>

    <div class="table-head">
      <div class="head-h2">
        <span>用户列表</span>
      </div>
      <div class="btn-box">
        <button nz-button nzType="tianjia" routerLink="./add">添加用户</button>
      </div>
    </div>
    <div class="table-box">
      <nz-table #basicTable [nzData]="list" [nzFrontPagination]="false" [nzPageIndex]="pageNum" [nzTotal]="totalCount"
        [nzPageSize]="pageSize" (nzPageIndexChange)="getList()">
        <thead>
          <tr>
            <th>登录名</th>
            <th>姓名</th>
            <th>电话</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of list">
            <td>{{data.loginName}}</td>
            <td>{{data.name}}</td>
            <td>{{data.phone}}</td>
            <td>
              <button nz-button [routerLink]="['./update',data.id]">编辑</button>
              &nbsp;&nbsp;
              <button *ngIf="!data.flag" nz-popconfirm nz-button nzTitle="您确定要启用吗?" (nzOnConfirm)="deldeldel(data.id,1)"
                (nzOnCancel)="cancel()">启用</button>
              <button *ngIf="data.flag" nz-popconfirm nz-button nzTitle="您确定要禁用吗?" (nzOnConfirm)="deldeldel(data.id,0)"
                (nzOnCancel)="cancel()">禁用</button>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</div>