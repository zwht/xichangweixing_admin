<div class="add-box" [style.overflow]="preivewShow?'hidden':'auto'">
  <div class="preview overflow-auto;" *ngIf="preivewShow">
    <div class="close">
      <button (click)="previewClose()" nz-button>关闭</button>
    </div>
    <div class="preview-content">
      <div class="fileHead">
        <div class="fileTitle">{{validateForm.value.name}}</div>
        <div class="policy_fbt"></div>
        <!-- <div class="policy_ly">
              <span>政策文号：川助函〔2018〕15号</span>&nbsp;&nbsp;&nbsp;
              <span>单位：四川省</span>&nbsp;&nbsp;&nbsp;
              <span>日期：2018-03-19</span>			
          </div> -->
        <div class="policy_tjlc" *ngIf="!!validateForm.value.categoryFundsNames">
          <fieldset>
            <legend>关联资金类别</legend>
            <p>{{validateForm.value.categoryFundsNames}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.publishDateTime">
          <fieldset>
            <legend>发布时间</legend>
            <p>{{validateForm.value.publishDateTime |date:'yyyy/MM/dd'}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.qualification">
          <fieldset>
            <legend>资格对象</legend>
            <p>{{validateForm.value.qualification}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.standard">
          <fieldset>
            <legend>补助标准</legend>
            <p>{{validateForm.value.standard}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!getTownName()">
          <fieldset>
            <legend>适用地区</legend>
            <p>{{getTownName()}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.payment">
          <fieldset>
            <legend>领取方式</legend>
            <p>{{validateForm.value.payment}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.payProcess">
          <fieldset>
            <legend>发放流程</legend>
            <p>{{validateForm.value.payProcess}}</p>
          </fieldset>
        </div>
        <div class="policy_tjlc" *ngIf="!!validateForm.value.departmentPhone">
          <fieldset>
            <legend>主管部门及咨询电话</legend>
            <p>{{validateForm.value.departmentPhone}}</p>
          </fieldset>
        </div>
      </div>
      <div style="padding:0 60px;" [innerHTML]="preivewHtml">

      </div>
    </div>

  </div>
  <div class="heard">
    <div>
      <nz-breadcrumb>
        <nz-breadcrumb-item>
          <a [routerLink]="['/admin/data/policy-data']">新闻管理</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
          <span class="span">{{title}}</span>
        </nz-breadcrumb-item>
      </nz-breadcrumb>
    </div>
  </div>
  <div class="form-box" style="width:1100px">
    <div class="btn-box" style=" text-align: right; margin: 10px auto;">
      <button nz-button [routerLink]="['/admin/data/policy-data']" style="margin:0 10px" nzType="default">取消</button>
      <button style="margin:0 10px" (click)="preview()" nz-button>预览</button>
      <button style="margin:0 10px" (click)="submitForm()" nzType="primary" nz-button>保存</button>
    </div>
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
      <nz-form-item>
        <!--政策名称-->
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="name" nzRequired>名称</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input appTrim nz-input id="name" formControlName="name" placeholder="输入政策名称">
          <nz-form-explain *ngIf="validateForm.get('name').dirty && validateForm.get('name').errors">
            <ng-container *ngIf="validateForm.get('name').hasError('required')">
              请输入政策名称！
            </ng-container>
            <ng-container *ngIf="validateForm.get('name').hasError('length')">
              政策名称请少于60字！
            </ng-container>
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="qualification" nzRequired>
          <span>
            摘要
          </span>
        </nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <textarea appTrim nz-input placeholder="资格对象" id="qualification" formControlName="qualification"></textarea>
          <nz-form-explain *ngIf="validateForm.get('qualification').dirty && validateForm.get('qualification').errors">
            请输入新闻摘要
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="standard" nzRequired>
          <span>
            封面
          </span>
        </nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <textarea appTrim nz-input placeholder="输入补助标准" id="standard" formControlName="standard"></textarea>
          <nz-form-explain *ngIf="validateForm.get('standard').dirty && validateForm.get('standard').errors">
            请输入补助标准描述
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="standard" nzRequired>
          <span>
            置顶
          </span>
        </nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-radio-group formControlName="standard">
            <label nz-radio nzValue="A">是</label>
            <label nz-radio nzValue="B">否</label>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-item>

      <p>正文部分：</p>
      <nz-form-item>
        <nz-form-control style="width:1060px; vertical-align:top;">
          <nz-form-explain *ngIf="validateForm.get('content').dirty && validateForm.get('content').errors">
            <ng-container *ngIf="validateForm.get('content').hasError('required')">
              详细信息不能为空！
            </ng-container>
          </nz-form-explain>
          <app-wang-editor id="content" formControlName="content"></app-wang-editor>
        </nz-form-control>
      </nz-form-item>

    </form>
  </div>
  <nz-modal [(nzVisible)]="selectCategoryShow" nzTitle="选择关联资金类别" (nzOnCancel)="selectCategoryCancel()" (nzOnOk)="selectCategoryOk()">
    <div class="flex">
      <div class="tree-box overflowAuto">
        <ul class="town-list">
          <li *ngFor="let item of treeList">
            <div class="click-item">{{item.departmentName}}</div>
            <ul class="village-list">
              <li *ngFor="let VOS of item.fundsVOS">
                <div class="click-item overflow" [title]="VOS.fundsName" [style.background]="VOS.cur?'#7764CA':'#fafafa'"
                  (click)="selectThis(VOS)">{{VOS.fundsName}}</div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="select-box overflowAuto">
        <div *ngFor="let item of currentList">{{item.fundsName}}</div>
      </div>
    </div>
  </nz-modal>
</div>